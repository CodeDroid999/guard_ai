<<<<<<< HEAD
{% extends "base.html" %} {% block content %}

<!DOCTYPE html>
<html>
  <head>
    <title>YOLOv11 Security AI</title>
  </head>
  <body>
    <h1>Upload Images or Videos</h1>
    <form method="POST" action="/upload" enctype="multipart/form-data">
      <input type="file" name="file" multiple required />
      <button type="submit">Upload</button>
    </form>

    <h2>Live Stream</h2>
    <p><a href="/stream/webcam" target="_blank">Webcam Stream</a></p>
    <form action="/stream/cctv" method="get">
      <input type="text" name="url" placeholder="Enter CCTV URL" />
      <button type="submit">Stream</button>
    </form>
  </body>
</html>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  $(document).ready(function () {
    // Display selected image preview
    $("#imageUpload").change(function () {
      var input = this;
      if (input.files && input.files[0]) {
        var reader = new FileReader();
        reader.onload = function (e) {
          $("#imagePreview").css(
            "background-image",
            "url(" + e.target.result + ")"
          );
        };
        reader.readAsDataURL(input.files[0]);
        $(".image-section").show();
      }
    });

    // Perform prediction on button click
    $("#btn-predict").click(function () {
      var form_data = new FormData($("#upload-file")[0]);
      $(".loader").show();
      $.ajax({
        type: "POST",
        url: "/predict",
        data: form_data,
        contentType: false,
        cache: false,
        processData: false,
        success: function (result) {
          $(".loader").hide();
          $("#result span").text("Result: " + result);
        },
        error: function () {
          $(".loader").hide();
          alert("Error occurred during prediction.");
        },
      });
    });
  });
</script>

{% endblock %}
=======
<!DOCTYPE html>
<html>
  <head>
    <title>Smarteye AI Stream</title>
  </head>
  <body>
    <h1>Live Security Feed</h1>
    <img src="{{ url_for('video') }}" width="720" />
  </body>
</html>
>>>>>>> 762ec8f36de249276397b253095bd189fe1b0c6f
